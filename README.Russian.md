# HTML painter

Программа позволяет создавать рисунки прямоугольников в HTML таблицах.

Читать на других языках: [English](README.md), [Русский](README.Russian.md)

# Описание работы

Программа генерирует изображенияразноцветных прямоугольников, переданных на вход через параметр при запуске программы.
Результатом прогрммы является файл `output.html` который создается в тойже дирректории, откуда была запущена программа.<br>
Данный файл содержит минимальное содержание для отображения HTML страницы с таблицей в Браузере.

# Использование программы в Docker контейнере:

 0. Создайте и запустите контейнер, следуя инструкциям [ниже](#запуск-в-docker)<br>
 	Контейнер запустит скрипт, который запустит программу `HTML painter`,<br>
 	передав ей на вход путь к файлу, указанному при старте контейнера,<br>
 	а так же запустит сервер **nginx** и заменит страницу по умолчанию, <br>
 	на страницу, сгенерированную программой.<br>
 1. Перед запуском контейнера, добавте файл, который необходимо будет передать на вход программе в папку `tests`<br>
 	и при запуске контейнера, передайте имя файла последним параметром.<br>
 	
 - Контейнер можно запустить и без мепинга томов, по умолчанию при создании контейнера в папке `tests` существуют 2 файла:<br>
   `multyple` и `two_squares` и для запуска можно использовать их например:<br>
    
```
docker run --rm -it -p 80:8080 html_painter two_squares
```

   Данная команда запустит контейнер и передаст путь к файлу two_squares в папке `tests` внутри контейнера.<br>
   <br>
 2. По умолчанию сервер доступен по адресу `172.17.0.2`<br>
 	при запущенном контейнере, при переходе по этому атресу, <br>
 	отобразиться страница - результат работы программы.<br>
 3. Для завершения работы контейнера, скрипт ожидает ввода команды `exit`<br>
	при вводе которой контейнер завершает свою работу и удаляется.<br>

# Использование программы при самостоятельной сборке:

  0. Соберите программу, следуя инструкциям [ниже](#сборка-при-помощи-cmake)
  1. Запустите в консоли програму `./html_paint` в папке `bin/`<br>
  - Программу можно запустить с параметрами и без:<br>
  - При старте программы дополнительным параметром необходимо передать путь к файлу,<br>
    в котором содержатся координаты прямоугольников (левого верхнего и правого нижнего<br>
    угла в виде: X1 Y1 X2 Y2)<br>
  - Если запустить программу без параметров - она запустится в режиме тестирования и <br>
    попробует построить таблицу из файла в папке `./../tests/multyple` относитьельно <br>
    пути по которому запущена программа и выведет результат в поток ошибок.<br>
  2. После генерации **html** файла откройте его в браузере для просмотра результата.<br>
  
# Запуск в Docker:

0. Создание образа docker (В корневой папке проекта с Dockerfile выполните команду):<br>

```
docker build -t html_painter .
```

1. Для запуска контейнера введите следующую команду:<br>
 - `--rm` в Docker используется для автоматического удаления контейнера и связанных с ним файлов при завершении работы контейнера.<br>
 - `-v ${PWD}/tests:/app/tests` используется для создания связи между файловой системой хоста и файловой системой контейнера.<br>
 	Позволяет добавлять новые файлы для запуска в контейнере. Все фалы, находящиеся в папке `tests`, <br>
 	расположенной в той же дирректории, откуда происходит запуск контейнера, становятся доступными внутри контейнера<br>
 	и могут быть использованы для передачи как параметр в программу.<br>
 - `-it` запуск контейнера в интерактивном режиме с подключением к терминалу контейнера.<br>
 - `-p 80:8080` используется для привязки портов контейнера к портам хоста.<br>
 - `two_squares` - параметр, передаваемый в программу, запущенную в контейнере,<br>
 	 позволяет передать путь до файла находящегося в папке `tests` по его имени.<br>
```
docker run\
	 --rm\
	 -v ${PWD}/tests:/app/tests\
	 -it\
	 -p 80:8080\
	 html_painter\
	 two_squares
```

# Сборка при помощи Cmake

Для сборки программы в ОС linux:<br>
0. Для сборки необходимо установить **Cmake**<br>
1. Находясь в корневой папке проекта создайте и перейдите в папку `build`:<br>

```
mkdir build
cd build
```
2. Выполните команды для сборки программы:<br>
```
cmake .. 
cmake --build .
```
3. Готовая программа сохранена в папку `bin` в корневой дирректории проекта:<br>

# Graphics UML

<picture>
  <img alt="Graphics UML" src="https://github.com/ZakharovYuriy/painter/blob/main/UML/Graphics.PNG">
</picture>

# HTML UML

<picture>
  <img alt="HTML UML" src="https://github.com/ZakharovYuriy/painter/blob/main/UML/XML.PNG">
</picture>

